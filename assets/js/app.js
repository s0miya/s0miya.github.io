const navItems=document.getElementsByClassName("nav-link"),navToggle=document.getElementById("nav-toggle");let activeNavItem=navItems[0],isNavItemClicked=!1;const setActiveNavItem=()=>{navItems[0].classList.add("active");for(let e=0;e<navItems.length;++e)navItems[e].onclick=function(){isNavItemClicked=!0,navToggle.checked&&(navToggle.checked=!1),e!=navItems.length-1&&((activeNavItem=document.getElementsByClassName("active")[0]).classList.remove("active"),this.classList.add("active"))}},storageKey="theme-preference",getColorPreference=()=>localStorage.getItem(storageKey)?localStorage.getItem(storageKey):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",setPreference=()=>{localStorage.setItem(storageKey,theme.value),reflectPreference()},reflectPreference=()=>{document.firstElementChild.setAttribute("data-theme",theme.value),document.querySelector("#theme-toggle")?.setAttribute("aria-label",`${theme.value}theme`),updateThemeElement()},theme={value:getColorPreference()},onClick=()=>{"light"===theme.value?theme.value="dark":theme.value="light",setPreference()},updateThemeElement=()=>{document.getElementById("github-logo").src="dark"===theme.value?"/assets/images/icons/github-logo-white.webp":"/assets/images/icons/github-logo.webp"};reflectPreference(),window.onload=()=>{reflectPreference(),document.querySelector("#theme-toggle").addEventListener("click",onClick),setActiveNavItem()},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{theme.value=e?"dark":"light",setPreference()});const sections=document.getElementsByTagName("section"),scrollOffsetTop=sections[0].offsetTop;window.onscroll=()=>{if(navToggle.checked&&(navToggle.checked=!1),!isNavItemClicked)for(let e=0;e<sections.length;e++)window.scrollY+scrollOffsetTop>=sections[e].offsetTop&&(window.scrollY<=sections[e].offsetHeight||e+1==sections.length)&&((activeNavItem=document.getElementsByClassName("active")[0]).classList.remove("active"),navItems[e].classList.add("active"),activeNavItem=navItems[e])},window.onscrollend=()=>{isNavItemClicked=!1};